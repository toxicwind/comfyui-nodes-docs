# Documentation
- Class name: samLoaderForDetailerFix
- Category: EasyUse/Fix
- Output node: False
- Repo Ref: https://github.com/yolain/ComfyUI-Easy-Use.git

The samLoader ForDetailerFix node is a key component in the process of integrating and using the SAM (Stable Diffusion) model. It aims to simplify the loading and application of the model to ensure its efficient and effective operation in the given context. The function of the node is to prepare models for detailed image processing tasks (e.g. partitioning and enhancement) and to test and process multiple parameters of impact model capabilities by configure them.

# Input types
## Required
- model_name
    - The model_name parameter specifies the name of the SAM model that you want to load. It plays a vital role in identifying and initiating the correct model for subsequent image processing tasks.
    - Comfy dtype: str
    - Python dtype: str
- device_mode
    - The parameters determine the computing equipment to run the SAM model. It is essential to optimize performance and ensure compatibility with the hardware capabilities of the system.
    - Comfy dtype: str
    - Python dtype: str
- sam_detection_hint
    - The sam_detection_hint parameter provides guidance on the detection strategy for the SAM model. It is important for fine-tuning the accuracy of the model's detection and for responding to different types of input images.
    - Comfy dtype: str
    - Python dtype: str
- sam_dilation
    - The sam_dilation parameter adjusts the expansion factor used in the SAM model test. It significantly influences the ability of the model to capture the details in the image.
    - Comfy dtype: int
    - Python dtype: int
- sam_threshold
    - The sam_threshold parameter sets the confidence threshold for the SAM model test. It is a key factor in controlling the balance between accuracy and recall rates in the test results.
    - Comfy dtype: float
    - Python dtype: float
- sam_bbox_expansion
    - The sam_bbox_expansion parameter controls the extension of the boundary box generated by the SAM model. It is used to fine-tune the positioning of objects in the image.
    - Comfy dtype: int
    - Python dtype: int
- sam_mask_hint_threshold
    - Sam_mask_hint_threshold parameters define the threshold for the use of mask tips in the SAM model. It helps to determine the relevance and applicability of the mask tips provided for image partitioning.
    - Comfy dtype: float
    - Python dtype: float
- sam_mask_hint_use_negative
    - The sam_mask_hint_use_negative parameter indicates whether and how to use negative mask hints in the SAM model. It is an important factor in increasing the ability of the model to distinguish between areas needed and not required in the image.
    - Comfy dtype: str
    - Python dtype: str

# Output types
- sam_pipe
    - The sam_pipe output provides a conduit that is configured with SAM models and associated parameters. It is essential for follow-up image processing tasks that require model capabilities.
    - Comfy dtype: PIPE_LINE
    - Python dtype: Tuple[Any, ...]

# Usage tips
- Infra type: GPU

# Source code
```
class samLoaderForDetailerFix:

    @classmethod
    def INPUT_TYPES(cls):
        return {'required': {'model_name': (folder_paths.get_filename_list('sams'),), 'device_mode': (['AUTO', 'Prefer GPU', 'CPU'], {'default': 'AUTO'}), 'sam_detection_hint': (['center-1', 'horizontal-2', 'vertical-2', 'rect-4', 'diamond-4', 'mask-area', 'mask-points', 'mask-point-bbox', 'none'],), 'sam_dilation': ('INT', {'default': 0, 'min': -512, 'max': 512, 'step': 1}), 'sam_threshold': ('FLOAT', {'default': 0.93, 'min': 0.0, 'max': 1.0, 'step': 0.01}), 'sam_bbox_expansion': ('INT', {'default': 0, 'min': 0, 'max': 1000, 'step': 1}), 'sam_mask_hint_threshold': ('FLOAT', {'default': 0.7, 'min': 0.0, 'max': 1.0, 'step': 0.01}), 'sam_mask_hint_use_negative': (['False', 'Small', 'Outter'],)}}
    RETURN_TYPES = ('PIPE_LINE',)
    RETURN_NAMES = ('sam_pipe',)
    FUNCTION = 'doit'
    CATEGORY = 'EasyUse/Fix'

    def doit(self, model_name, device_mode, sam_detection_hint, sam_dilation, sam_threshold, sam_bbox_expansion, sam_mask_hint_threshold, sam_mask_hint_use_negative):
        if 'SAMLoader' not in ALL_NODE_CLASS_MAPPINGS:
            raise Exception(f"[ERROR] To use SAMLoader, you need to install 'Impact Pack'")
        cls = ALL_NODE_CLASS_MAPPINGS['SAMLoader']
        (sam_model,) = cls().load_model(model_name, device_mode)
        pipe = (sam_model, sam_detection_hint, sam_dilation, sam_threshold, sam_bbox_expansion, sam_mask_hint_threshold, sam_mask_hint_use_negative)
        return (pipe,)
```