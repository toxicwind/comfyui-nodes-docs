# Documentation
- Class name: GreyNoise
- Category: image/noise
- Output node: False
- Repo Ref: https://github.com/Jordach/comfy-plasma.git

The Greynoise class is used to generate noise images on demand and to provide tools to support various image processing tasks and noise analysis through customized parameters.

# Input types
## Required
- width
    - Width determines the horizontal dimensions of noise images generated and significantly influences the overall canvas generated by noise.
    - Comfy dtype: INT
    - Python dtype: int
- height
    - The vertical dimension of the noise image is set at altitude, which is essential for defining the structure and layout of the image.
    - Comfy dtype: INT
    - Python dtype: int
- seed
    - Seeds are used to initialize random number generators to ensure repeatable noise patterns to obtain consistent experimental results.
    - Comfy dtype: INT
    - Python dtype: int
## Optional
- value_min
    - The lowest values set the lower limit of the noise intensity, affecting the lowest possible noise level in the image.
    - Comfy dtype: INT
    - Python dtype: int
- value_max
    - The maximum values set the upper limit of the noise intensity to control the maximum noise level to achieve the desired visual effect.
    - Comfy dtype: INT
    - Python dtype: int
- red_min
    - The minimum red value specifies the minimum value of the red channel, which affects the overall tone and colour distribution in the noise image.
    - Comfy dtype: INT
    - Python dtype: int
- red_max
    - The maximum red value defines the maximum value of the red channel, establishes the upper limit of the colour range and contributes to the final appearance.
    - Comfy dtype: INT
    - Python dtype: int
- green_min
    - The minimum value of the green channel is set as the minimum value of the green channel, affecting the medium-range colour tone and the overall colour balance.
    - Comfy dtype: INT
    - Python dtype: int
- green_max
    - The maximum value of the green channel is set at the maximum value of the green channel and the upper limit of the medium-range colour.
    - Comfy dtype: INT
    - Python dtype: int
- blue_min
    - The minimum blue value specifies the minimum value of the blue channel, which affects the overall coolness or warmness of the noise image.
    - Comfy dtype: INT
    - Python dtype: int
- blue_max
    - The maximum blue value defines the maximum value of the blue channel and determines the upper limit of cold or warmness in the final image.
    - Comfy dtype: INT
    - Python dtype: int

# Output types
- IMAGE
    - Output is a noise image that reflects input parameters as a visual expression of the noise generated as required.
    - Comfy dtype: IMAGE
    - Python dtype: PIL.Image.Image

# Usage tips
- Infra type: CPU

# Source code
```
class GreyNoise:

    @classmethod
    def INPUT_TYPES(s):
        return {'required': {'width': ('INT', {'default': 512, 'min': 128, 'max': 8192, 'step': 8}), 'height': ('INT', {'default': 512, 'min': 128, 'max': 8192, 'step': 8}), 'value_min': ('INT', {'default': -1, 'min': -1, 'max': 255, 'step': 1}), 'value_max': ('INT', {'default': -1, 'min': -1, 'max': 255, 'step': 1}), 'red_min': ('INT', {'default': -1, 'min': -1, 'max': 255, 'step': 1}), 'red_max': ('INT', {'default': -1, 'min': -1, 'max': 255, 'step': 1}), 'green_min': ('INT', {'default': -1, 'min': -1, 'max': 255, 'step': 1}), 'green_max': ('INT', {'default': -1, 'min': -1, 'max': 255, 'step': 1}), 'blue_min': ('INT', {'default': -1, 'min': -1, 'max': 255, 'step': 1}), 'blue_max': ('INT', {'default': -1, 'min': -1, 'max': 255, 'step': 1}), 'seed': ('INT', {'default': 0, 'min': 0, 'max': 18446744073709551615})}}
    RETURN_TYPES = ('IMAGE',)
    FUNCTION = 'generate_noise'
    CATEGORY = 'image/noise'

    def generate_noise(self, width, height, value_min, value_max, red_min, red_max, green_min, green_max, blue_min, blue_max, seed):
        w = width
        h = height
        aw = copy.deepcopy(w)
        ah = copy.deepcopy(h)
        outimage = Image.new('RGB', (aw, ah))
        random.seed(seed)
        clamp_v_min = value_min
        clamp_v_max = value_max
        clamp_r_min = red_min
        clamp_r_max = red_max
        clamp_g_min = green_min
        clamp_g_max = green_max
        clamp_b_min = blue_min
        clamp_b_max = blue_max
        lv = 0
        mv = 0
        if clamp_v_min == -1:
            lv = 0
        else:
            lv = clamp_v_min
        if clamp_v_max == -1:
            mv = 255
        else:
            mv = clamp_v_max
        lr = 0
        mr = 0
        if clamp_r_min == -1:
            lr = lv
        else:
            lr = clamp_r_min
        if clamp_r_max == -1:
            mr = mv
        else:
            mr = clamp_r_max
        lg = 0
        mg = 0
        if clamp_g_min == -1:
            lg = lv
        else:
            lg = clamp_g_min
        if clamp_g_max == -1:
            mg = mv
        else:
            mg = clamp_g_max
        lb = 0
        mb = 0
        if clamp_b_min == -1:
            lb = lv
        else:
            lb = clamp_b_min
        if clamp_b_max == -1:
            mb = mv
        else:
            mb = clamp_b_max
        pbar = comfy.utils.ProgressBar(ah)
        step = 0
        for y in range(ah):
            for x in range(aw):
                nv = random.randint(lv, mv)
                nr = int(remap(nv, lv, mv, lr, mr))
                ng = int(remap(nv, lv, mv, lg, mg))
                nb = int(remap(nv, lv, mv, lb, mb))
                outimage.putpixel((x, y), (nr, ng, nb))
            step += 1
            pbar.update_absolute(step, ah)
        return conv_pil_tensor(outimage)
```