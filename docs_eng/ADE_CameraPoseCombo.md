# Create CameraCtrl Poses (Combo) üé≠üÖêüÖì‚ë°
## Documentation
- Class name: ADE_CameraPoseCombo
- Category: Animate Diff üé≠üÖêüÖì/‚ë° Gen2 nodes ‚ë°/CameraCtrl/poses
- Output node: False
- Repo Ref: https://github.com/Kosinkadink/ComfyUI-AnimateDiff-Evolved.git

ADE_CameraPoseCombo is designed to create complex camera control postures by combining a variety of motion types and their corresponding strength. It allows custom cameras to move in animation sequences, generating dynamic and detailed camera behaviour.

## Input types
### Required
- motion_type1
    - Specifies the first type of camera movement that you want to include in the combination. Each type of motion contributes to the overall camera mode of motion.
    - Comfy dtype: COMBO[STRING]
    - Python dtype: str
- motion_type2
    - Specifies the second type of camera movement to be included in the combination, adding to the complexity of the camera movement.
    - Comfy dtype: COMBO[STRING]
    - Python dtype: str
- motion_type3
    - A third type of camera movement is specified, which further enriches the mode of motion of the camera.
    - Comfy dtype: COMBO[STRING]
    - Python dtype: str
- motion_type4
    - The designation of a fourth type of camera movement contributes to the diversity of the camera movement.
    - Comfy dtype: COMBO[STRING]
    - Python dtype: str
- motion_type5
    - A fifth type of camera movement is designated, adding another layer to the complexity of the camera movement.
    - Comfy dtype: COMBO[STRING]
    - Python dtype: str
- motion_type6
    - Specify the sixth type of camera movement and complete the integrated camera control motor set.
    - Comfy dtype: COMBO[STRING]
    - Python dtype: str
- speed
    - Controlling the speed of the camera movement affects the speed at which the camera moves between positions.
    - Comfy dtype: FLOAT
    - Python dtype: float
- frame_length
    - Determine the number of frames in which the motion of the camera takes place and define the duration of the animation.
    - Comfy dtype: INT
    - Python dtype: int

### Optional
- prev_poses
    - Selectable. The previous camera posture, which can be combined with the new motion, allows seamless transition in the animation. This input is essential for creating a fluid and continuous camera movement, especially in a scenario where narrative or visual continuity is required.
    - Comfy dtype: CAMERACTRL_POSES
    - Python dtype: list[list[float]]

## Output types
- cameractrl_poses
    - Comfy dtype: CAMERACTRL_POSES
    - The combination of the specified motion and strength generated by the camera control position is prepared for animation.
    - Python dtype: list[list[float]]

## Usage tips
- Infra type: CPU
- Common nodes: unknown

## Source code
```python
class CameraCtrlPoseCombo:
    @classmethod
    def INPUT_TYPES(cls):
        return {
            "required": {
                "motion_type1": (CAM._LIST,),
                "motion_type2": (CAM._LIST,),
                "motion_type3": (CAM._LIST,),
                "motion_type4": (CAM._LIST,),
                "motion_type5": (CAM._LIST,),
                "motion_type6": (CAM._LIST,),
                "speed": ("FLOAT", {"default": 1.0, "min": -100.0, "max": 100.0, "step": 0.01}),
                "frame_length": ("INT", {"default": 16}),
            },
            "optional": {
                "prev_poses": ("CAMERACTRL_POSES",),
            }
        }

    RETURN_TYPES = ("CAMERACTRL_POSES",)
    FUNCTION = "camera_pose_combo"
    CATEGORY = "Animate Diff üé≠üÖêüÖì/‚ë° Gen2 nodes ‚ë°/CameraCtrl/poses"

    def camera_pose_combo(self,
                          motion_type1: str, motion_type2: str, motion_type3: str,
                          motion_type4: str, motion_type5: str, motion_type6: str,
                          speed: float, frame_length: int,
                          prev_poses: list[list[float]]=None,
                          strength1=1.0, strength2=1.0, strength3=1.0, strength4=1.0, strength5=1.0, strength6=1.0):
        combined_motion = CameraMotion.combine([
            CAM.get(motion_type1).multiply(strength1), CAM.get(motion_type2).multiply(strength2), CAM.get(motion_type3).multiply(strength3),
            CAM.get(motion_type4).multiply(strength4), CAM.get(motion_type5).multiply(strength5), CAM.get(motion_type6).multiply(strength6)
            ])
        RT = get_camera_motion(combined_motion.rotate, combined_motion.translate, speed, frame_length)
        new_motion = ndarray_to_poses(RT=RT)
        if prev_poses is not None:
            new_motion = combine_poses(prev_poses, new_motion)
        return (new_motion,)