# Documentation
- Class name: CreateQRCodeNode
- Category: Masquerade Nodes
- Output node: False
- Repo Ref: https://github.com/BadCafeCode/masquerade-nodes-comfyui

The CreateQRCodeNode class is designed to generate QR code from the text input. It encapsulates the function of converting a string to a QR-code image, following the specified size, version, correction level, grid size and border parameters. This node plays a key role in creating the QR code in the form of a visual expression of the information required in various applications.

# Input types
## Required
- text
    - The 'text 'parameter is essential because it is to encode the information source of the QR code. It can be a multi-line string that allows for more complex data to be included.
    - Comfy dtype: STRING
    - Python dtype: str
## Optional
- size
    - The'size'parameter determines the size of the QR-code image. It is important because it affects the size and readability of the QR-code, and the default values are set to ensure a balance between size and detail.
    - Comfy dtype: INT
    - Python dtype: int
- qr_version
    - The 'qr_version'parameter controls the version of the QR code, which corresponds to its ability to correct errors and store data. It is essential to ensure that the QR code is capable of processing the amount of data provided.
    - Comfy dtype: INT
    - Python dtype: int
- error_correction
    - The 'error_corruption'argument sets the error correction level for the QR code. It is vital because it defines the resilience of the QR code to the damage and its readability at different distances.
    - Comfy dtype: COMBO['L', 'M', 'Q', 'H']
    - Python dtype: str
- box_size
    - The 'box_size'argument specifies the size of each box in the QR grid. It is important because it affects the visual appearance of the QR code and the precision required to scan the QR code.
    - Comfy dtype: INT
    - Python dtype: int
- border
    - 'border 'parameter sets the width of the border around the QR code. It is important because it provides a clear line between the QR code and its surrounding area and enhances its scanability.
    - Comfy dtype: INT
    - Python dtype: int

# Output types
- IMAGE
    - The 'IMAGE'output is the result of a QR-code image generated by input parameters. It is important because it is the main deliverer of the node and represents the coded information in visual format.
    - Comfy dtype: IMAGE
    - Python dtype: torch.Tensor

# Usage tips
- Infra type: CPU

# Source code
```
class CreateQRCodeNode:

    def __init__(self):
        pass

    @classmethod
    def INPUT_TYPES(cls):
        return {'required': {'text': ('STRING', {'multiline': True}), 'size': ('INT', {'default': 512, 'min': 64, 'max': 4096, 'step': 64}), 'qr_version': ('INT', {'default': 1, 'min': 1, 'max': 40, 'step': 1}), 'error_correction': (['L', 'M', 'Q', 'H'], {'default': 'H'}), 'box_size': ('INT', {'default': 10, 'min': 1, 'max': 100, 'step': 1}), 'border': ('INT', {'default': 4, 'min': 0, 'max': 100, 'step': 1})}}
    RETURN_TYPES = ('IMAGE',)
    FUNCTION = 'create_qr_code'
    CATEGORY = 'Masquerade Nodes'

    def create_qr_code(self, text, size, qr_version, error_correction, box_size, border):
        ensure_package('qrcode')
        import qrcode
        if error_correction == 'L':
            error_level = qrcode.constants.ERROR_CORRECT_L
        elif error_correction == 'M':
            error_level = qrcode.constants.ERROR_CORRECT_M
        elif error_correction == 'Q':
            error_level = qrcode.constants.ERROR_CORRECT_Q
        else:
            error_level = qrcode.constants.ERROR_CORRECT_H
        qr = qrcode.QRCode(version=qr_version, error_correction=error_level, box_size=box_size, border=border)
        qr.add_data(text)
        qr.make(fit=True)
        img = qr.make_image(fill_color='black', back_color='white')
        img = img.resize((size, size))
        tensor = torch.from_numpy(np.array(img))
        return (tensor2rgb(tensor.unsqueeze(0)),)
```