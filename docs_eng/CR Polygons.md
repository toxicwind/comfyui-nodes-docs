# Documentation
- Class name: CR_Polygons
- Category: Comfyroll/Graphics/Pattern
- Output node: False
- Repo Ref: https://github.com/RockOfFire/ComfyUI_Comfyroll_CustomNodes

CR_Polygons is a node used to generate geometric patterns consisting of hexagons or triangles. It allows custom-defined polygon colours, background and line properties to create visually unique patterns. This node is particularly suitable for creating background textures or complex designs for various applications.

# Input types
## Required
- mode
    - Model parameters determine the shape of the polygon to be drawn, which can be a hexagonal or triangle. This option significantly affects the overall pattern generated by the node, providing the user with control over the geometry of the output.
    - Comfy dtype: COMBO['hexagons', 'triangles']
    - Python dtype: str
- width
    - The width parameter sets the width of the pattern in pixels. It is a key factor in determining the scale of the pattern and directly affects the final size of the output image.
    - Comfy dtype: INT
    - Python dtype: int
- height
    - The altimeter sets the height of the pattern in pixels. It works with width to determine the overall size of the pattern, which is essential to adapt the design to specific display requirements.
    - Comfy dtype: INT
    - Python dtype: int
- rows
    - Line parameters specify the number of polygonal rows to be drawn in the pattern. It affects the density and layout of the polygon, thus affecting the complexity of the final design.
    - Comfy dtype: INT
    - Python dtype: int
- columns
    - The column parameters determine the number of polygonal columns that you want to draw in the pattern. It works with the row parameters to define the overall grid structure of the pattern.
    - Comfy dtype: INT
    - Python dtype: int
- face_color
    - The colour parameters define the color that fills the interior of the polygon. It plays an important role in determining the visual appeal and thematic consistency of the pattern.
    - Comfy dtype: COLORS
    - Python dtype: str
- background_color
    - Background colour parameters set the background colour behind the polygon. It is essential to provide contrasts and to ensure that patterns are highlighted in their background.
    - Comfy dtype: COLORS
    - Python dtype: str
- line_color
    - Line colour parameters determine the colour of the line that frames the polygon. It is a key aspect of defining the pattern boundary and increasing overall visual clarity.
    - Comfy dtype: COLORS
    - Python dtype: str
- line_width
    - Line width parameters specify the roughness of the line that is used to draw a polygonal contour. It affects the salience of the edge of the pattern and contributes to the aesthetics of the overall design.
    - Comfy dtype: INT
    - Python dtype: int
## Optional
- face_color_hex
    - The face colour hexadecimal parameter allows the use of custom hexadecimal code for the interior of the polygon. It provides the user with flexibility to fine-tune the colour scheme.
    - Comfy dtype: STRING
    - Python dtype: str
- bg_color_hex
    - The background colour hexadecimal parameter allows a custom hexadecimal code for the background. It ensures that the user can customize the background colour to match their design preferences.
    - Comfy dtype: STRING
    - Python dtype: str
- line_color_hex
    - The line colour hexadecimal parameter allows a custom hexadecimal code to define the line of the polygon. It provides users with the ability to adjust the line colour to achieve the desired visual effect.
    - Comfy dtype: STRING
    - Python dtype: str

# Output types
- IMAGE
    - The IMAGE output provides a renderable geometric pattern as an image. This is the main result of the node operation and can be used for further processing or displaying.
    - Comfy dtype: IMAGE
    - Python dtype: torch.Tensor
- show_help
    - Show_help output provides a URL link to the document page for further help and information about the use and function of the node.
    - Comfy dtype: STRING
    - Python dtype: str

# Usage tips
- Infra type: CPU

# Source code
```
class CR_Polygons:

    @classmethod
    def INPUT_TYPES(s):
        modes = ['hexagons', 'triangles']
        return {'required': {'mode': (modes,), 'width': ('INT', {'default': 512, 'min': 64, 'max': 4096}), 'height': ('INT', {'default': 512, 'min': 64, 'max': 4096}), 'rows': ('INT', {'default': 5, 'min': 1, 'max': 512}), 'columns': ('INT', {'default': 5, 'min': 1, 'max': 512}), 'face_color': (COLORS,), 'background_color': (COLORS,), 'line_color': (COLORS,), 'line_width': ('INT', {'default': 2, 'min': 0, 'max': 512})}, 'optional': {'face_color_hex': ('STRING', {'multiline': False, 'default': '#000000'}), 'bg_color_hex': ('STRING', {'multiline': False, 'default': '#000000'}), 'line_color_hex': ('STRING', {'multiline': False, 'default': '#000000'})}}
    RETURN_TYPES = ('IMAGE', 'STRING')
    RETURN_NAMES = ('IMAGE', 'show_help')
    FUNCTION = 'draw'
    CATEGORY = icons.get('Comfyroll/Graphics/Pattern')

    def draw(self, mode, width, height, rows, columns, face_color, background_color, line_color, line_width, face_color_hex='#000000', bg_color_hex='#000000', line_color_hex='#000000'):
        if face_color == 'custom':
            face_color = face_color_hex
        if line_color == 'custom':
            line_color = line_color_hex
        if background_color == 'custom':
            background_color = bg_color_hex
        (fig, ax) = plt.subplots(figsize=(width / 100, height / 100))
        fig.set_facecolor(background_color)
        plt.xlim(0, width / 100)
        plt.ylim(0, height / 100)
        plt.axis('off')
        plt.tight_layout(pad=0, w_pad=0, h_pad=0)
        plt.autoscale(False)
        if mode == 'hexagons':
            vertices = 6
        elif mode == 'triangles':
            vertices = 3
        cell_width = width / 100 / columns
        cell_height = width / height * np.sqrt(3) * (height / 100) / (2 * columns)
        for row in range(rows + 2):
            for col in range(columns + 2):
                x = col * cell_width
                y = row * cell_height
                if row % 2 == 1:
                    x += cell_width / 2
                hexagon = RegularPolygon((x, y), numVertices=vertices, radius=cell_width / 1.732, edgecolor=line_color, linewidth=line_width, facecolor=face_color)
                ax.add_patch(hexagon)
        img_buf = io.BytesIO()
        plt.savefig(img_buf, format='png')
        img = Image.open(img_buf)
        image_out = pil2tensor(img.convert('RGB'))
        show_help = 'https://github.com/Suzie1/ComfyUI_Comfyroll_CustomNodes/wiki/Pattern-Nodes#cr-polygons'
        return (image_out, show_help)
```